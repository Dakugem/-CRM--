# EBKO-CRM
**EBKO-CRM** -- система, позволяющая организовать взаимодействие с клиентами, вовремя обрабатывать поступающие заявки на аварии, вопросы и предложения. Система объединяет в себе функционал NRI, ТКП и WFM сервисов для задач телекоммуникационных компаний

- **NRI (Network Resource Inventory)**: Учет сетевых ресурсов и оборудования.
- **КТП (Комплекс Технической Поддержки)**: Обработка инцидентов и заявок от клиентов.
- **WFM (Workforce Management)**: Управление персоналом на линиях (задачи для монтажников/инженеров).

## Техническое задание
### Функционал первой очереди
- Реализовать авторизацию и ролевую модель:
  1. Админ
     - Доступ ко всем нижеупомянутым возможностям других ролей.
     - Модуль **Сотрудники** дополнительно: 
       1. Удаление, добавление сотрудников
       2. Одобрение отсутствия/дежурства
     - Доступ к модулю **Заявители/Клиенты**:
       1. Создание, удаление, редактирование заявителей/клиентов (ФИЗ-лицо (отдельный человек), Юр-лицо (Компания) ) 
       2. Создание, удаление, редактирование представителей заявителя/клиента
     - Доступ к модулю **Площадки заказчика**:
       1. Создание, удаление, редактирование площадки Заявителя/клиента
     - Доступ к модулю **Каталог**
       1. Создание, удаление, редактирование каталога Заявителя/клиента
       2. Создание, удаление, редактирование, резервирование единицы оборудования с привязкой к площадке Заявителя/клиента
  2. Оператор КТП
     - Доступ к модулю **Тикеты/Заявки (КТП)**
       1. Просмотр, редактирование и создание тикетов/заявок в рамках модуля
       2. Выставление статусов
       3. Комментирование тикетов/заявок, прикрепление медиа к комментариям, создание закрытого/открытого комментария (Закрытый - виден сотрудникам, открытый - виден и сотрудникам и клиенту), указание типа проведенных работ в комментарии, просмотр истории тикета/заявки
       4. Открытие тикетов/заявок на себя и других сотрудников КТП
       5. Трекинг времени
       6. Понижение и повышение критичности тикета/заявки
       7. Создание подзадачи/подзадачи-Задачи (Подзадача - связанный тикет/заявка для сотрудников КТП, подзадача-Задача - для сотрудников WFM)
     - Доступ к модулю **Задачи (WFM)**
       1. Просмотр, редактирование и создание Задач в рамках модуля
       2. Выставление статусов
       3. Понижение и повышение критичности задачи
     - Доступ к модулю **Отчеты**:
       1. Создание, удаление, редактирование, скачивание отчета о потраченном времени
     - Доступ к модулю **Сотрудники**:
       1. Просмотр списка сотрудников
       2. Создание дежурств
       3. Просмотр отсутствий сотрудников. Создание отсутствия 
     -  Доступ к модулю **Доска задач**:
       1. Создание, удаление, редактирование таблиц со списком задач
     - Доступ к модулю **Настройки**:
       1. Просмотр профиля
       2. Редактирование фотографии профиля 
  3. Инженер WFM
     - Доступ к модулю **Задачи (WFM)**
       1. Просмотр, редактирование и создание Задач в рамках модуля
       2. Выставление статусов
       3. Комментирование задач, прикрепление медиа к комментариям, создание закрытого/открытого комментария (Закрытый - виден сотрудникам, открытый - виден и сотрудникам и клиенту), указание типа проведенных работ в комментарии, просмотр истории задачи
       4. Открытие задач на себя и других сотрудников КТП
       5. Трекинг времени
       6. Создание подзадачи-Задачи (Подзадача - связанная задача для сотрудников WFM)
     - Доступ к модулю **Отчеты**:
       1. Создание, удаление, редактирование, скачивание отчета о потраченном времени
     - Доступ к модулю **Сотрудники**:
       1. Просмотр списка сотрудников
       2. Создание дежурств
       3. Просмотр отсутствий сотрудников. Создание отсутствия 
     -  Доступ к модулю **Доска задач**:
       1. Создание, удаление, редактирование таблиц со списком задач
     - Доступ к модулю **Настройки**:
       1. Просмотр профиля сотрудника, редактирование фотографии профиля
       2. Выход из учетной записи  
  4. Клиент
    - Доступ к модулю **Обращения**
       1. Просмотр, редактирование и создание тикетов/заявок или задач в рамках модуля
       2. Выставление статусов
       3. Комментирование тикетов/заявок или задач, прикрепление медиа к комментариям, просмотр истории тикета/заявки или задачи
       4. Понижение и повышение критичности тикета/заявки
       5. Выставление статуса Verified и Canceled
     - Доступ к модулю **Настройки**:
       1. Просмотр профиля
       2. Выход из учетной записи

- Реализовать модуль **Тикеты/Заявки (КТП)**:
  1. Создание, редактирование, просмотр заявок:
      - Название: Редактируемое или дефолт - CRM-1 (К каждому Created тикету добавляем + 1 к номеру)
      - Описание тикета/заявки
      - Статус заявки
      - Критичность заявки
      - Продукт (Единица оборудования заказчика)
      - Информация о менеджере:
        1. Сотрудник ТКП ФИО
      - Инфомация о заявителе:
        1. Компания заявителя
        2. Заявитель (представитель/сотрудник компании заявителя)
        3. Площадка заказчика
        4. Отображение затраченного времени
      - История комментариев задачи
      - История изменений статусов, критичности
      - Дедлайн в зависимости от критичности
      - Гиперссылка на тикет
      - Связывание тикета с подзадачей или подзадачей-Задачей
  2. Критичность:
      - Basic - Базовая задача, несложная, имеет низкий вес в отображении тикетов у сотрудника КТП, дедлайн - 30 дней 
      - Important - Средней величины задача, может идти продолжительное время, имеет средний вес в отображении тикетов у сотрудника КТП - дедлайн 15 дней
      - Critical - Задача критична, имеет серьезные последстсвия, высокий вес в отображении тикетов у сотрудника КТП - дедлайн 1 день
  3. По истечению дедлайна поставить в отчет о потраченном времени индикацию о результате тикета
  4. Статусы:
      - Created - Исходное состояние задачи при ее создании
      - Opened - Задача открыта. Должен быть назначен менджер
      - Active - Задача находиться в работе
      - Info Request - Запрошена информация у Заказчика для дальнешей работы по кейсу
      - Development - Задача в разработке
      - Canceled - Задача отменена или потеряла актуальность. Переход в другие статусы невозможен
      - Customer Pending -Ожидание заказчика. Например, составление договоров,настйроки удаленного доступа и тп.
      - Done - Работа по кейсу завершена. Ожидаем подверждение заявителя/клиента
      - Verified - Задача полностью завершена, подтверждена заказчиком. Переход в другие статусы невозможен
  5. Отображение всех тикетов ТКП и существующих в базе 
  6. Хранение данных по тикетам сроком на 30 дней
  7. Комментирование по MarkDown разметке
  8. Добавление медиа-файлов к комментариям (jpeg, png)
  9. Закрытый и открытый комментарий (Виден для сотрудников/Виден для сотрудников и клиентов)
  10. Указание при комментарии типа проведенных работ:
      - Дежурство
      - Ночные работы
      - Совещание
      - Настройка ПО
      - Консультация
      - Без типа работ (дефолт, отображения нет)

- Реализовать модуль **Задачи (WFM)**:
  1. Создание, редактирование, просмотр задач:
      - Название: Редактируемое или дефолт - Наряд-1 (К каждому Created тикету добавляем + 1 к номеру)
      - Описание Задачи
      - Статус заявки
      - Критичность заявки
      - Продукт (Единица оборудования заказчика)
      - Информация о менеджере:
        1. Сотрудник ТКП ФИО
      - Инфомация о заявителе:
        1. Компания заявителя
        2. Заявитель (представитель/сотрудник компании заявителя)
        3. Площадка заказчика
        4. Отображение затраченного времени
      - История комментариев задачи
      - История изменений статусов, критичности
      - Дедлайн в зависимости от критичности
      - Гиперссылка на тикет
      - Связывание тикета с подзадачей или подзадачей-Задачей
  2. Критичность:
      - Basic - Базовая задача, несложная, имеет низкий вес в отображении задач у сотрудника WFM, дедлайн - 30 дней 
      - Important - Средней величины задача, может идти продолжительное время, имеет средний вес в отображении задач у сотрудника WFM - дедлайн 15 дней
      - Critical - Задача критична, имеет серьезные последстсвия, высокий вес в отображении задач у сотрудника WFM - дедлайн 1 день
  3. По истечению дедлайна поставить в отчет о потраченном времени индикацию о результате задачи
  4. Статусы:
      - Created - Исходное состояние задачи при ее создании
      - Opened - Задача открыта. Должен быть назначен менджер
      - Active - Задача находиться в работе
      - Info Request - Запрошена информация у Заказчика для дальнешей работы по кейсу
      - Development - Задача в разработке
      - Canceled - Задача отменена или потеряла актуальность. Переход в другие статусы невозможен
      - Customer Pending -Ожидание заказчика. Например, составление договоров,настйроки удаленного доступа и тп.
      - Done - Работа по кейсу завершена. Ожидаем подверждение заявителя/клиента
      - Verified - Задача полностью завершена, подтверждена заказчиком. Переход в другие статусы невозможен
  5. Отображение всех тикетов WFM и существующих в базе 
  6. Хранение данных по тикетам сроком на 30 дней
  7. Комментирование по MarkDown разметке
  8. Добавление медиа-файлов к комментариям (jpeg, png)
  9. Закрытый и открытый комментарий (Виден для сотрудников/Виден для сотрудников и клиентов)
  10. Указание при комментарии типа проведенных работ:
      - Дежурство
      - Ночные работы
      - Совещание
      - Монтаж
      - Консультация
      - Без типа работ (дефолт, отображения нет)
  
  - Реализовать модуль **Обращения**:
  1. Создание, редактирование, просмотр задач:
     - Выбор типа обращения:
       1. Выезд - Адресуем в WFM
       2. Тикет - Адресуем в КТП
     - Название: Редактируемое или дефолт - Наряд-1 или CRM-1(К каждому Created тикету добавляем + 1 к номеру)
     - Описание Задачи или тикета
     - Статус тикета или задачи
     - Критичность тикета или задачи
     - Продукт (Единица оборудования заказчика)
     - Информация о менеджере:
       1. Сотрудник ТКП ФИО
     - Инфомация о заявителе:
       1. Компания заявителя
       2. Заявитель (представитель/сотрудник компании заявителя)
       3. Площадка заказчика
       4. Отображение затраченного времени
     - История комментариев задачи или тикета
     - История изменений статусов, критичности
     - Дедлайн в зависимости от критичности
     - Гиперссылка на тикет
     ### Примечание: Данные требования будут реализованы в верхних модулях, клиенту они должны подтягиваться в зависимости от типа обращения, это идет на все требования к данному модулю
  2. Критичность:
     - Basic - Базовая задача, несложная, имеет низкий вес в отображении задач у сотрудника WFM, дедлайн - 30 дней 
     - Important - Средней величины задача, может идти продолжительное время, имеет средний вес в отображении задач у сотрудника WFM - дедлайн 15 дней
     - Critical - Задача критична, имеет серьезные последстсвия, высокий вес в отображении задач у сотрудника WFM - дедлайн 1 день
  3. Статусы:
     - Created - Исходное состояние задачи при ее создании
     - Opened - Задача открыта. Должен быть назначен менджер
     - Active - Задача находиться в работе
     - Info Request - Запрошена информация у Заказчика для дальнешей работы по кейсу
     - Development - Задача в разработке
     - Canceled - Задача отменена или потеряла актуальность. Переход в другие статусы невозможен
     - Customer Pending -Ожидание заказчика. Например, составление договоров,настйроки удаленного доступа и тп.
     - Done - Работа по кейсу завершена. Ожидаем подверждение заявителя/клиента
     - Verified - Задача полностью завершена, подтверждена заказчиком. Переход в другие статусы невозможен
  4. Отображение всех тикетов WFM и TKP и существующих в базе 
  5. Хранение данных по тикетам сроком на 30 дней
  6. Комментирование по MarkDown разметке
  7. Добавление медиа-файлов к комментариям (jpeg, png)

 - Реализовать модуль **Сотрудники**:
 1. Информация о сотрудниках (Открытая):
     - ФИО
     - Фото
     - Дата рождения
     - Телефон
     - Email
     - Должность
     - Информация об отсуствии
 2. Информация о сотрудниках (Закрытая):
    - логин для доступа к CRM
    - пароль для доступа к CRM
    - Роль
 - Реализовать модуль **Заявители/клиенты**
   1. Создание, удаление, редактирование заявителей/клиентов:
       - Название компании
       - Список представителей/сотрудников компании заявителя
       - Профиль представителя/сотрудника компании заявителя:
         1. ФИО
         2. Компания
         5. Логин для доступа к CRM
         6. Пароль для доступа к CRM
         7. Роль - клиент (default)
  - Релизовать модуль **Площадки заказчика**
    1. Создание, удаление, редактирование площадки Заявителя/клиента:
        -  Название площадки
        -  Компания
        -  Адрес
        -  Проект
        -  Список сотрудников проекта со стороны заявителя/клиента
        -  Каталог
  - Реализовать модуль **Каталог**:
    1. Создание, удаление, редактирование каталога Заявителя/клиента:
       - Проект
       - Компания
       Подмодуль (Выдыхаюсь уже писать, как дохуя умный, я просто устал) **единица оборудования**:
        - Название единицы
        - Тип изделия
        - Короткое наименование
        - Артикул
        - Описание
  - Реализовать модуль **Отчеты**:
    1. Отображение отчета о потраченном времени:
     - Список тикетов/задач сотрудника за месяц
     - Результат работы:
       1. Просрок дедлайна - Down
       2. Done - полностью закрыты
       3. Active - пока не закрыты и не попали под дедлайн
     - Потраченное время, в случае:
       1. Просрок дедлайна - 0
       2. Done - Итоговое время на решение
       3. Active - Время на решение на момент создания отчета
     - Итоговая статистика по всем пунктам
     - Формат - таблица
     - Скачивание таблицы в формате эксель
  - Реализовать модуль **Настройки**:
     - Отображение профиля пользователя:
       1. Фото в зависимости от роли
       2. Логин
     - Редактирование фото
     - Выход из учетки, смена уз на CRM
  - Реализовать модуль **Доска задач**:
    1. Создание, редактирование окон с задачами сотрудника
    2. Дефолт:
        - Окно с открытыми задачами на сотрудника, находящимя в процессе выполнения
        - Окно с только что созданными тикетами или задачами в зависимости от роли
    
## To do
- [x] Добавить тз
- [ ] Нанять горничную для директора 
- [ ] ...

## Команда проекта

